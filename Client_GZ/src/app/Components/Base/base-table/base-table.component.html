<div class="main-content">
	<mat-card class="table-container">
		<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
			<!-- Columnas Data -->
			<ng-container *ngFor="let column of columns" [matColumnDef]="column">
				<th mat-header-cell *matHeaderCellDef>
					{{ column === 'N°' ? 'N°' : (column | titlecase) }}
				</th>
				<td mat-cell *matCellDef="let element; let i = index"
					[matTooltip]="shouldShowTooltip(column, element) ? getValue(element, column) : ''"
					matTooltipPosition="above" matTooltipShowDelay="500" [ngClass]="getStatusClass(column, element)">

					<!-- Render status with icon if column is 'active' -->
					<ng-container *ngIf="column === 'active'; else normalCell">
						<mat-icon class="status-icon">{{ element.active ? 'check_circle' : 'cancel' }}</mat-icon>
						<!-- {{ getValue(element, column) }} -->
					</ng-container>

					<!-- Default content -->
					<ng-template #normalCell>
						{{ column === 'N°' ? (getRowIndex(i)) : truncate(getValue(element, column), column) }}
					</ng-template>

				</td>
			</ng-container>

			<!-- Columna Acciones -->
			<ng-container matColumnDef="actions">
				<th mat-header-cell *matHeaderCellDef> Acciones </th>
				<td mat-cell *matCellDef="let element">
					<button mat-icon-button class="btn-update" (click)="editItem(element)">
						<mat-icon>edit</mat-icon>
					</button>
					<button mat-icon-button class="btn-delete" (click)="deleteItem(element)">
						<mat-icon>delete</mat-icon>
					</button>
				</td>
			</ng-container>

			<tr mat-header-row *matHeaderRowDef="columnasMostrar"></tr>
			<tr mat-row *matRowDef="let row; columns: columnasMostrar;"></tr>

			<!-- Row cuando no hay datos -->
			<tr class="mat-row" *matNoDataRow>
				<td class="mat-cell" [attr.colspan]="columnasMostrar.length">
					<div class="msg-empty">
						<p><mat-icon>hourglass_empty</mat-icon> No hay registros</p>
					</div>
				</td>
			</tr>
		</table>
	</mat-card>

	<!-- Paginación -->
	<mat-paginator *ngIf="showPagination && data.length > 0" [length]="data.length" [pageSize]="pageSize"
		[pageSizeOptions]="pageSizeOptions" [pageIndex]="pageIndex" (page)="onPageChanges($event)"
		aria-label="Seleccionar página" class="custom-paginator">
	</mat-paginator>

	<!-- Información de paginación (opcional) -->
	<div *ngIf="showPagination && data.length > 0" class="pagination-info">
		Mostrando {{getDisplayedRange()}} de {{data.length}} registros
	</div>
</div>
